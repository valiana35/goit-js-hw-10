{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\nconst clockTimer = document.querySelectorAll('timer');\n\nclass Timer {\n    constructor(tick) {\n        this.intervalId = null;\n        this.tick = tick;\n    }\n    start() {\n        const init = Date.now();\n        this.intervalId = setInterval(() => {\n            const diff = init - Date.now();\n            const time = convertMs(diff);\n            this.tick(time);\n        },1000);\n    }\n\n    stop() {\n        clearInterval(this.intervalId);\n        days.textContent = '00';\n        hours.textContent = '00';\n        minutes.textContent = '00';\n        seconds.textContent = '00';\n    }\n}\n\nconst timer = new Timer(onTick);\nconst date = new Date();\nlet userSelectedDate;\n\nstartBtn.addEventListener('click', () => {\n    timer.start();\n});\n\ninput.addEventListener('click', () => {\n    flatpickr(input, options);\n});\n\nfunction onTick(time) {\n    const str = formatTime(time);\n}\n\nfunction formatTime({days, hours, minutes, seconds}) {\n    days = days.toString().padStart(2, '0');\n    hours = hours.toString().padStart(2, '0');\n    minutes = minutes.toString().padStart(2, '0');\n    seconds = seconds.toString().padStart(2, '0');\n    return `${days} ${hours} ${minutes} ${seconds}`;\n}\n\n     const options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            userSelectedDate = selectedDates[0];\n            if (userSelectedDate < new Date) {\n                iziToast.error({\n                    message: 'Please choose a date in the future',\n                });\n                startBtn.disabled = true;\n            } else {\n                startBtn.disabled = false;\n            }\n          console.log(selectedDates[0]);\n        },\n      };\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000));\n  console.log(convertMs(140000));\n  console.log(convertMs(24140000));"],"names":["input","startBtn","days","hours","minutes","seconds","Timer","tick","init","diff","time","convertMs","timer","onTick","userSelectedDate","flatpickr","options","formatTime","selectedDates","iziToast","ms"],"mappings":"2FAQA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EACpC,SAAS,iBAAiB,OAAO,EAEpD,MAAMC,CAAM,CACR,YAAYC,EAAM,CACd,KAAK,WAAa,KAClB,KAAK,KAAOA,CACf,CACD,OAAQ,CACJ,MAAMC,EAAO,KAAK,MAClB,KAAK,WAAa,YAAY,IAAM,CAChC,MAAMC,EAAOD,EAAO,KAAK,IAAG,EACtBE,EAAOC,EAAUF,CAAI,EAC3B,KAAK,KAAKC,CAAI,CACjB,EAAC,GAAI,CACT,CAED,MAAO,CACH,cAAc,KAAK,UAAU,EAC7BR,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,IACzB,CACL,CAEA,MAAMO,EAAQ,IAAIN,EAAMO,CAAM,EAE9B,IAAIC,EAEJb,EAAS,iBAAiB,QAAS,IAAM,CACrCW,EAAM,MAAK,CACf,CAAC,EAEDZ,EAAM,iBAAiB,QAAS,IAAM,CAClCe,EAAUf,EAAOgB,CAAO,CAC5B,CAAC,EAED,SAASH,EAAOH,EAAM,CACNO,EAAWP,CAAI,CAC/B,CAEA,SAASO,EAAW,CAAC,KAAAf,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACjD,OAAAH,EAAOA,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtCC,EAAQA,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EACxCC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC5CC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EACrC,GAAGH,KAAQC,KAASC,KAAWC,GAC1C,CAEK,MAAMW,EAAU,CACb,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQE,EAAe,CACnBJ,EAAmBI,EAAc,GAC7BJ,EAAmB,IAAI,MACvBK,EAAS,MAAM,CACX,QAAS,oCAC7B,CAAiB,EACDlB,EAAS,SAAW,IAEpBA,EAAS,SAAW,GAE1B,QAAQ,IAAIiB,EAAc,EAAE,CAC7B,CACT,EAEA,SAASP,EAAUS,EAAI,CAKnB,MAAMlB,EAAO,KAAK,MAAMkB,EAAK,KAAG,EAC1BjB,EAAQ,KAAK,MAAOiB,EAAK,MAAO,IAAI,EACpChB,EAAU,KAAK,MAAQgB,EAAK,MAAO,KAAQ,GAAM,EACjDf,EAAU,KAAK,MAASe,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAlB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIM,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}