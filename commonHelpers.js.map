{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\nconst clockTimer = document.querySelector('timer');\n\nclass Timer {\n    constructor(tick) {\n        this.intervalId = null;\n        this.tick = tick;\n    }\n    start() {\n        const init = Date.now();\n        this.intervalId = setInterval(() => {\n            const diff = init - Date.now();\n            const time = convertMs(diff);\n            this.tick(time);\n        },1000);\n    }\n\n    stop() {\n        clearInterval(this.intervalId);\n    }\n}\n\nconst timer = new Timer(onTick);\nconst date = new Date();\nlet userSelectedDate;\n\nstartBtn.addEventListener('click', () => {\n    timer.start();\n});\n\ninput.addEventListener('click', () => {\n    timer.stop();\n});\n\nfunction onTick(time) {\n    const str = formatTime(time);\n}\n\nfunction formatTime({days, hours, minutes, seconds}) {\n    days = days.toString().padStart(2, 0);\n    hours = hours.toString().padStart(2, 0);\n    minutes = minutes.toString().padStart(2, 0);\n    seconds = seconds.toString().padStart(2, 0);\n    return `${days} ${hours} ${minutes} ${seconds}`;\n}\n\n     const options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            if (userSelectedDate > date) {\n                startBtn.disabled = false;\n            } else {\n                window.alert(\"Please choose a date in the future\");\n                startBtn.disabled = true;\n            }\n          console.log(selectedDates[0]);\n        },\n      };\nflatpickr(input, options);\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000));\n  console.log(convertMs(140000));\n  console.log(convertMs(24140000));"],"names":["input","startBtn","Timer","tick","init","diff","time","convertMs","timer","onTick","date","userSelectedDate","formatTime","days","hours","minutes","seconds","options","selectedDates","flatpickr","ms"],"mappings":"oFAQA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,oBAAoB,EAC/C,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,cAAc,EACnC,SAAS,cAAc,gBAAgB,EACvC,SAAS,cAAc,gBAAgB,EACpC,SAAS,cAAc,OAAO,EAEjD,MAAMC,CAAM,CACR,YAAYC,EAAM,CACd,KAAK,WAAa,KAClB,KAAK,KAAOA,CACf,CACD,OAAQ,CACJ,MAAMC,EAAO,KAAK,MAClB,KAAK,WAAa,YAAY,IAAM,CAChC,MAAMC,EAAOD,EAAO,KAAK,IAAG,EACtBE,EAAOC,EAAUF,CAAI,EAC3B,KAAK,KAAKC,CAAI,CACjB,EAAC,GAAI,CACT,CAED,MAAO,CACH,cAAc,KAAK,UAAU,CAChC,CACL,CAEA,MAAME,EAAQ,IAAIN,EAAMO,CAAM,EACxBC,EAAO,IAAI,KACjB,IAAIC,EAEJV,EAAS,iBAAiB,QAAS,IAAM,CACrCO,EAAM,MAAK,CACf,CAAC,EAEDR,EAAM,iBAAiB,QAAS,IAAM,CAClCQ,EAAM,KAAI,CACd,CAAC,EAED,SAASC,EAAOH,EAAM,CACNM,EAAWN,CAAI,CAC/B,CAEA,SAASM,EAAW,CAAC,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACjD,OAAAH,EAAOA,EAAK,SAAQ,EAAG,SAAS,EAAG,CAAC,EACpCC,EAAQA,EAAM,SAAQ,EAAG,SAAS,EAAG,CAAC,EACtCC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,CAAC,EAC1CC,EAAUA,EAAQ,SAAQ,EAAG,SAAS,EAAG,CAAC,EACnC,GAAGH,KAAQC,KAASC,KAAWC,GAC1C,CAEK,MAAMC,EAAU,CACb,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfP,EAAmBD,EACnBT,EAAS,SAAW,IAEpB,OAAO,MAAM,oCAAoC,EACjDA,EAAS,SAAW,IAE1B,QAAQ,IAAIiB,EAAc,EAAE,CAC7B,CACT,EACAC,EAAUnB,EAAOiB,CAAO,EAExB,SAASV,EAAUa,EAAI,CAKnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIT,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}